<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Runenritual der Hexen</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ===== BASIS ===== */
body{
  margin:0;
  padding:1.3rem;
  background:
    radial-gradient(circle at top,#1b1230 0%,#050308 70%);
  color:#eee;
  font-family:Georgia,serif;
}
h1{
  text-align:center;
  letter-spacing:.22em;
  margin-bottom:.2rem;
}
.sub{
  text-align:center;
  opacity:.7;
  font-size:.85rem;
  margin-bottom:1.6rem;
}

/* ===== BOXEN ===== */
.section{
  margin-bottom:1.7rem;
  padding:1.1rem;
  border:1px solid #3a2a4a;
  border-radius:1rem;
  background:rgba(12,8,20,.8);
  box-shadow:0 0 18px rgba(0,0,0,.4);
}
.section h2{
  text-align:center;
  font-size:.95rem;
  letter-spacing:.14em;
  margin-bottom:1rem;
  opacity:.85;
}

/* ===== RUNEN ===== */
.grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:.7rem;
}
button{
  position:relative;
  background:#0e0916;
  border:1px solid #44335a;
  border-radius:.9rem;
  color:#eee;
  padding:.7rem .3rem;
  font-size:.72rem;
  cursor:pointer;
  transition:all .35s ease;
  box-shadow:
    inset 0 0 10px rgba(255,255,255,.03),
    0 0 0 rgba(0,0,0,0);
}
button:before{
  content:"";
  position:absolute;
  inset:3px;
  border-radius:.7rem;
  background:linear-gradient(
    to bottom,
    rgba(255,255,255,.04),
    rgba(0,0,0,.25)
  );
  pointer-events:none;
}
button:hover{
  transform:translateY(-1px);
  box-shadow:0 0 12px rgba(170,140,255,.25);
}
button.active{
  border-color:#e6dcff;
  color:#fff;
  box-shadow:
    0 0 22px rgba(180,140,255,.9),
    inset 0 0 18px rgba(180,140,255,.2);
  background:#160d26;
  animation:glow 2.8s ease-in-out infinite;
}
@keyframes glow{
  0%,100%{box-shadow:0 0 18px rgba(180,140,255,.6)}
  50%{box-shadow:0 0 28px rgba(220,190,255,1)}
}

/* ===== RITUAL BUTTON ===== */
#cast{
  width:100%;
  margin-top:.6rem;
  padding:1rem;
  font-size:1.05rem;
  background:linear-gradient(180deg,#3b2a5c,#1c122f);
  border:1px solid #6c55a3;
  border-radius:1rem;
  letter-spacing:.12em;
  transition:all .4s ease;
}
#cast:hover{
  box-shadow:0 0 24px rgba(200,160,255,.7);
}

/* ===== ERGEBNIS ===== */
#result{
  margin-top:1.8rem;
  padding:1.4rem;
  border:2px solid #5a3d88;
  border-radius:1.1rem;
  background:
    radial-gradient(circle at top,#140e22 0%,#07040b 70%);
  box-shadow:0 0 32px rgba(120,80,200,.6);
  line-height:1.65;
  opacity:0;
  transform:translateY(10px);
  transition:opacity .8s ease, transform .8s ease;
}
#result.show{
  opacity:1;
  transform:translateY(0);
}

hr{
  border:none;
  border-top:1px solid #34234f;
  margin:1rem 0;
}
.small{opacity:.7;font-size:.75rem}

/* ===== RITUAL FLASH ===== */
body.ritual{
  animation:ritualPulse .8s ease;
}
@keyframes ritualPulse{
  0%{filter:brightness(1)}
  50%{filter:brightness(1.25)}
  100%{filter:brightness(1)}
}
</style>
</head>

<body>

<h1>RUNENRITUAL</h1>
<div class="sub">Hexenmagie ¬∑ 1√ó pro Long Rest</div>

<div class="section">
  <h2>ANKER</h2>
  <div class="grid" id="anker"></div>
</div>

<div class="section">
  <h2>EID</h2>
  <div class="grid" id="eid"></div>
</div>

<div class="section">
  <h2>FLUSS</h2>
  <div class="grid" id="fluss"></div>
</div>

<button id="cast">üîÆ RITUAL WIRKEN</button>
<div id="result"><span class="small">W√§hle je eine Rune aus allen drei Kreisen.</span></div>

<script>
/* ===== ANKER-OMEN ===== */
const ANKER_OMEN = {
  Fehu:   "Fehu tritt hervor ‚Äì Besitz verlangt F√ºhrung.",
  Uruz:   "Uruz zeigt sich ‚Äì dein K√∂rper tr√§gt heute mehr.",
  Thurisaz:"Thurisaz blockiert den Weg ‚Äì Macht kommt durch Widerstand.",
  Ansuz:  "Ansuz fl√ºstert ‚Äì Worte und Zauber h√∂ren zu.",
  Raidho: "Raidho rollt ‚Äì Bewegung formt das Schicksal.",
  Kenaz:  "Kenaz brennt ‚Äì Wahrheit duldet keinen Schatten.",
  Gebo:   "Gebo fordert Austausch ‚Äì nichts bleibt einseitig.",
  Wunjo:  "Wunjo l√§chelt vorsichtig ‚Äì der Geist sucht Balance."
};

/* ===== 64 EFFEKTE (ANKER √ó EID) ===== */
const EFFECTS = {
  Fehu: {
    Berkano:"Erhalte 1d4 zus√§tzliche Ladungen f√ºr ein begrenztes Item.",
    Tiwaz:"Gold- oder Ressourcenaufwand z√§hlt einmalig als doppelt effektiv.",
    Algiz:"Ein Besitz kann einmal nicht gestohlen oder zerst√∂rt werden.",
    Dagaz:"Ein Handel oder Tausch gelingt automatisch.",
    Ingwaz:"Speichere einen Ressourcenbonus (bis 50 gp √Ñquivalent).",
    Laguz:"Nach Ressourcenverlust darfst du ihn einmal r√ºckg√§ngig machen.",
    Mannaz:"Advantage bei Checks mit wertvollen Gegenst√§nden.",
    Othala:"Ein Item ist bis zum Long Rest fest an dich gebunden."
  },
  Uruz: {
    Berkano:"Erhalte tempor√§re Trefferpunkte (1d6 + Proficiency Bonus).",
    Tiwaz:"+1d4 Schaden bei STR-basierten Angriffen (1√ó/Runde).",
    Algiz:"Einmal pro Runde Resistance gegen physischen Schaden.",
    Dagaz:"Ein STR- oder CON-Save gilt automatisch als bestanden.",
    Ingwaz:"Speichere +1d8 f√ºr einen k√∂rperlichen Wurf.",
    Laguz:"Nach einem Miss darfst du +1d4 hinzuf√ºgen.",
    Mannaz:"Advantage auf Athletics oder Acrobatics.",
    Othala:"Du kannst einmal nicht prone werden."
  },
  Thurisaz: {
    Berkano:"Dein erster Treffer verursacht +1d6 zus√§tzlichen Schaden.",
    Tiwaz:"+1 auf Attack Rolls (1√ó/Runde).",
    Algiz:"Ignoriere einmal Shield oder √§hnliche parierende Effekte.",
    Dagaz:"Ein Angriff trifft automatisch (kein erzwungener Krit).",
    Ingwaz:"Speichere +1d10 zus√§tzlichen Schaden.",
    Laguz:"Nach einem verfehlten Angriff darfst du den Wurf wiederholen.",
    Mannaz:"Advantage auf Angriffe gegen ein ausgew√§hltes Ziel.",
    Othala:"Deine Waffe z√§hlt als magisch gegen Resistenz/Immunit√§t."
  },
  Ansuz: {
    Berkano:"Nach Wirken eines Zaubers erh√§ltst du Temp HP = Zaubergrad √ó 2.",
    Tiwaz:"+1 auf Spell Attack oder Spell Save DC (f√ºr 1 Zauber).",
    Algiz:"Advantage auf Concentration Saves.",
    Dagaz:"Ein Zauber ignoriert Disadvantage.",
    Ingwaz:"Speichere einen +1-Zaubergrad-Effekt (z. B. extra Schaden/Ziele).",
    Laguz:"Nach Zauber-Fehlschlag +1d4 auf den n√§chsten Spell Attack.",
    Mannaz:"Advantage auf Arcana oder Religion.",
    Othala:"Ein Zauber ist an einen Ort oder ein Objekt gebunden."
  },
  Raidho: {
    Berkano:"Erhalte einen Bewegungs-Puffer von +10 ft.",
    Tiwaz:"+10 ft Bewegung, wenn du in deinem Zug angreifst.",
    Algiz:"Ignoriere Difficult Terrain.",
    Dagaz:"Du handelst in der n√§chsten Runde automatisch zuerst.",
    Ingwaz:"Speichere einen 10-ft-Teleport (Bonus Action).",
    Laguz:"Nach einer Opportunity Attack verliert der Gegner seine Reaktion.",
    Mannaz:"Advantage auf Initiative.",
    Othala:"Du kannst einmal nicht bewegt oder verschoben werden."
  },
  Kenaz: {
    Berkano:"+1d4 Bonus auf den n√§chsten Wahrnehmungs- oder Erkenntniswurf.",
    Tiwaz:"+1 auf Perception oder Investigation.",
    Algiz:"Advantage auf Checks gegen Illusionen.",
    Dagaz:"Du erh√§ltst automatisch einen wichtigen Hinweis der SL.",
    Ingwaz:"Speichere +1d8 f√ºr einen Erkenntniswurf.",
    Laguz:"Nach Fehlschlag darfst du einen Wahrnehmungswurf wiederholen.",
    Mannaz:"Advantage auf Insight.",
    Othala:"Ein Ort bleibt f√ºr dich immer erkennbar und leicht auffindbar."
  },
  Gebo: {
    Berkano:"Erhalte einen sozialen Gunst-Token (ein kleiner Gefallen, SL legt fest).",
    Tiwaz:"+1 auf CHA-basierte Checks.",
    Algiz:"Du bist einmalig immun gegen Charm-Effekte.",
    Dagaz:"Eine Bitte wird automatisch akzeptiert (im Rahmen des M√∂glichen).",
    Ingwaz:"Speichere Advantage f√ºr einen sp√§teren sozialen Wurf.",
    Laguz:"Nach Ablehnung darfst du einmal einen zweiten Versuch starten.",
    Mannaz:"Advantage auf Persuasion oder Deception.",
    Othala:"Ein NPC h√§lt dir gegen√ºber sicher sein Wort."
  },
  Wunjo: {
    Berkano:"Erhalte tempor√§re HP, die nur bei psychischem Schaden verbraucht werden.",
    Tiwaz:"+1 auf Rettungsw√ºrfe.",
    Algiz:"Resistance gegen Fear oder Charm.",
    Dagaz:"Ein WIS- oder CHA-Save gilt automatisch als bestanden.",
    Ingwaz:"Speichere +1d10 Bonus auf einen Save.",
    Laguz:"Nach einem misslungenen Save darfst du den Wurf wiederholen.",
    Mannaz:"Advantage auf WIS- oder CHA-Saves.",
    Othala:"Du kannst einmal nicht frightened werden."
  }
};

/* ===== FLUSS (MODIFIKATOREN) ===== */
const FLUSS = {
  Sowilo:{dur:"Bis zum n√§chsten Long Rest",price:"Kein zus√§tzlicher Preis."},
  Jera:{dur:"24 Stunden (verz√∂gert)",price:"Der Effekt kann nicht vorzeitig beendet werden."},
  Isa:{dur:"1 Encounter",price:"Deine Bewegung ist halbiert oder deine Bonusaktion blockiert."},
  Hagalaz:{dur:"1 Encounter",price:"Du erleidest 1d6 Schaden beim Wirken des Rituals."},
  Perthro:{dur:"Bis ein passender Trigger eintritt",price:"Tritt kein Trigger ein, verursacht die Magie eine kleine Fehlwirkung."},
  Nauthiz:{dur:"Bis zum n√§chsten Long Rest",price:"Du erleidest 1 Stufe Ersch√∂pfung."},
  Eihwaz:{dur:"Bis eine klare Schwelle erreicht ist",price:"Nach Ausl√∂sung hast du Nachteil auf deinen n√§chsten Wurf."},
  Algiz:{dur:"Bis zum n√§chsten Long Rest",price:"Der Effekt ist leicht abgeschw√§cht, aber vor Gegenmagie gesch√ºtzt."}
};

/* ===== UI-SETUP ===== */
let pick = { anker:null, eid:null, fluss:null };

function drawRunes(containerId, keys, storeKey){
  const el = document.getElementById(containerId);
  keys.forEach(rune=>{
    const b = document.createElement("button");
    b.textContent = rune;
    b.onclick = () => {
      pick[storeKey] = rune;
      [...el.children].forEach(x=>x.classList.remove("active"));
      b.classList.add("active");
    };
    el.appendChild(b);
  });
}

drawRunes("anker", Object.keys(ANKER_OMEN), "anker");
drawRunes("eid", Object.keys(EFFECTS.Fehu), "eid");   // alle Anker haben die gleichen Eid-Keys
drawRunes("fluss", Object.keys(FLUSS), "fluss");

/* ===== RITUAL WIRKEN ===== */
const resultEl = document.getElementById("result");
const castBtn  = document.getElementById("cast");

castBtn.onclick = () => {
  if(!pick.anker || !pick.eid || !pick.fluss){
    resultEl.innerHTML = "<span class='small'>W√§hle je eine Rune aus allen drei Kreisen.</span>";
    resultEl.classList.add("show");
    return;
  }

  const omen  = ANKER_OMEN[pick.anker];
  const effect = EFFECTS[pick.anker][pick.eid];
  const flow = FLUSS[pick.fluss];

  // Ritualflash
  document.body.classList.remove("ritual");
  void document.body.offsetWidth; // reflow hack
  document.body.classList.add("ritual");

  resultEl.innerHTML = `
    <b>üïØÔ∏è OMEN</b><br><i>${omen}</i>
    <hr>
    <b>‚öîÔ∏è EFFEKT</b><br>
    ${effect}<br>
    <b>Dauer:</b> ${flow.dur}
    <hr>
    <b>‚ö†Ô∏è PREIS</b><br>
    ${flow.price}
    <hr>
    <span class="small">
      Runenritual: 1√ó pro Long Rest. Effekte stapeln nicht mit sich selbst.
    </span>
  `;
  resultEl.classList.add("show");
};
</script>

</body>
</html>