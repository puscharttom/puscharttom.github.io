<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Runenritual der Hexen</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;padding:1rem;
  background:radial-gradient(circle at top,#1b1230 0%,#050308 75%);
  color:#eee;font-family:Georgia,serif;
}
h1{text-align:center;letter-spacing:.22em;margin:.2rem 0}
.sub{text-align:center;opacity:.7;font-size:.8rem;margin-bottom:1rem}

.wheels{display:grid;grid-template-columns:repeat(3,1fr);gap:.7rem;margin-bottom:1.2rem}
.wheel-column{display:flex;flex-direction:column}
.label{text-align:center;font-size:.7rem;letter-spacing:.16em;opacity:.75;margin-bottom:.2rem}

.wheel{
  border:1px solid #3a2a4a;border-radius:1rem;
  background:rgba(12,8,20,.85);
  padding:.3rem;height:220px;overflow-y:auto;
  scroll-snap-type:y mandatory;
}
.spacer{height:80px}
.rune{scroll-snap-align:center;text-align:center;padding:.4rem 0;opacity:.35;transition:.25s ease}
.rune .symbol{font-size:2rem}
.rune .name{font-size:.6rem;opacity:.7}
.rune.active{opacity:1;transform:scale(1.15);text-shadow:0 0 14px rgba(200,160,255,.8)}

#cast{
  width:100%;padding:.9rem;font-size:1rem;
  background:linear-gradient(180deg,#3b2a5c,#1c122f);
  border:1px solid #6c55a3;border-radius:1rem;
}

#result{
  margin-top:1rem;padding:1.2rem;
  border:2px solid #5a3d88;border-radius:1rem;
  background:radial-gradient(circle at top,#140e22 0%,#07040b 70%);
  box-shadow:0 0 28px rgba(120,80,200,.6);
  line-height:1.6;opacity:0;transform:translateY(8px);transition:.6s ease;
}
#result.show{opacity:1;transform:none}
hr{border:none;border-top:1px solid #34234f;margin:.8rem 0}
.small{opacity:.7;font-size:.75rem}
</style>
</head>

<body>
<h1>RUNENRITUAL</h1>
<div class="sub">Drehe die Zeichen ¬∑ 1√ó pro Long Rest</div>

<div class="wheels">
  <div class="wheel-column">
    <div class="label">ANKER</div>
    <div class="wheel" id="anker"></div>
  </div>
  <div class="wheel-column">
    <div class="label">EID</div>
    <div class="wheel" id="eid"></div>
  </div>
  <div class="wheel-column">
    <div class="label">FLUSS</div>
    <div class="wheel" id="fluss"></div>
  </div>
</div>

<button id="cast">üîÆ RITUAL WIRKEN</button>
<div id="result"><span class="small">Drehe die R√§der, bis sich eine Rune richtig anf√ºhlt.</span></div>

<script>
/* ===== RUNEN ===== */
const RUNES={
 Fehu:"·ö†",Uruz:"·ö¢",Thurisaz:"·ö¶",Ansuz:"·ö®",Raidho:"·ö±",Kenaz:"·ö≤",Gebo:"·ö∑",Wunjo:"·öπ",
 Berkano:"·õí",Tiwaz:"·õè",Algiz:"·õâ",Dagaz:"·õû",Ingwaz:"·õú",Laguz:"·õö",Mannaz:"·õó",Othala:"·õü",
 Sowilo:"·õä",Jera:"·õÉ",Isa:"·õÅ",Hagalaz:"·ö∫",Perthro:"·õà",Nauthiz:"·öæ",Eihwaz:"·õá"
};

/* ===== OMEN ===== */
const OMEN={
 Fehu:"Fehu tritt hervor ‚Äì Besitz verlangt F√ºhrung.",
 Uruz:"Uruz zeigt sich ‚Äì dein K√∂rper tr√§gt heute mehr.",
 Thurisaz:"Thurisaz blockiert den Weg ‚Äì Macht kommt durch Widerstand.",
 Ansuz:"Ansuz fl√ºstert ‚Äì Worte und Zauber h√∂ren zu.",
 Raidho:"Raidho rollt ‚Äì Bewegung formt das Schicksal.",
 Kenaz:"Kenaz brennt ‚Äì Wahrheit duldet keinen Schatten.",
 Gebo:"Gebo fordert Austausch ‚Äì nichts bleibt einseitig.",
 Wunjo:"Wunjo l√§chelt vorsichtig ‚Äì der Geist sucht Balance."
};

/* ===== 64 EFFEKTE ===== */
const EFFECTS={
 Fehu:{
  Berkano:"1d4 zus√§tzliche Ladungen f√ºr ein begrenztes Item.",
  Tiwaz:"Gold- oder Ressourcenaufwand z√§hlt einmalig doppelt.",
  Algiz:"Ein Besitz kann einmal nicht gestohlen oder zerst√∂rt werden.",
  Dagaz:"Ein Handel oder Tausch gelingt automatisch.",
  Ingwaz:"Speichere Ressourcen (bis 50 gp √Ñquivalent).",
  Laguz:"Mache einen Ressourcenverlust r√ºckg√§ngig.",
  Mannaz:"Advantage bei Checks mit wertvollen Gegenst√§nden.",
  Othala:"Ein Item ist bis zum Long Rest fest an dich gebunden."
 },
 Uruz:{
  Berkano:"Erhalte tempor√§re TP (1d6 + PB).",
  Tiwaz:"+1d4 Schaden bei STR-basierten Angriffen (1√ó/Runde).",
  Algiz:"Einmal pro Runde Resistance gegen physischen Schaden.",
  Dagaz:"Ein STR- oder CON-Save gilt automatisch als bestanden.",
  Ingwaz:"Speichere +1d8 f√ºr einen k√∂rperlichen Wurf.",
  Laguz:"Nach einem Miss +1d4 hinzuf√ºgen.",
  Mannaz:"Advantage auf Athletics oder Acrobatics.",
  Othala:"Du kannst einmal nicht prone werden."
 },
 Thurisaz:{
  Berkano:"Der erste Treffer verursacht +1d6 Schaden.",
  Tiwaz:"+1 auf Angriffsw√ºrfe (1√ó/Runde).",
  Algiz:"Ignoriere einmal Shield/Parade.",
  Dagaz:"Ein Angriff trifft automatisch (kein Krit).",
  Ingwaz:"Speichere +1d10 Schaden.",
  Laguz:"Nach einem verfehlten Angriff neu w√ºrfeln.",
  Mannaz:"Advantage auf Angriffe gegen ein Ziel.",
  Othala:"Deine Waffe z√§hlt als magisch."
 },
 Ansuz:{
  Berkano:"Nach Zauber: Temp-TP = Zaubergrad √ó 2.",
  Tiwaz:"+1 auf Spell Attack oder Save-DC (1 Zauber).",
  Algiz:"Advantage auf Concentration Saves.",
  Dagaz:"Ein Zauber ignoriert Disadvantage.",
  Ingwaz:"Speichere einen +1-Zaubergrad-Effekt.",
  Laguz:"Nach Spell-Fehlschlag +1d4 auf n√§chsten Spell Attack.",
  Mannaz:"Advantage auf Arcana oder Religion.",
  Othala:"Ein Zauber ist an Ort/Objekt gebunden."
 },
 Raidho:{
  Berkano:"+10 ft Bewegung.",
  Tiwaz:"+10 ft Bewegung, wenn du angreifst.",
  Algiz:"Ignoriere Difficult Terrain.",
  Dagaz:"Du handelst n√§chste Runde zuerst.",
  Ingwaz:"Speichere einen 10-ft-Teleport.",
  Laguz:"Gegner verliert nach OA seine Reaktion.",
  Mannaz:"Advantage auf Initiative.",
  Othala:"Du kannst einmal nicht verschoben werden."
 },
 Kenaz:{
  Berkano:"+1d4 Bonus auf n√§chsten Wahrnehmungs-/Erkenntniswurf.",
  Tiwaz:"+1 auf Perception oder Investigation.",
  Algiz:"Advantage gegen Illusionen.",
  Dagaz:"Du erh√§ltst automatisch einen wichtigen Hinweis.",
  Ingwaz:"Speichere +1d8 f√ºr Erkenntnis.",
  Laguz:"Nach Fehlschlag einen Wahrnehmungswurf wiederholen.",
  Mannaz:"Advantage auf Insight.",
  Othala:"Ein Ort bleibt f√ºr dich eindeutig erkennbar."
 },
 Gebo:{
  Berkano:"Erhalte einen sozialen Gunst-Token.",
  Tiwaz:"+1 auf CHA-basierte Checks.",
  Algiz:"Einmalig immun gegen Charm.",
  Dagaz:"Eine Bitte wird akzeptiert (im Rahmen).",
  Ingwaz:"Speichere Advantage f√ºr sozialen Wurf.",
  Laguz:"Nach Ablehnung einmal erneut versuchen.",
  Mannaz:"Advantage auf Persuasion oder Deception.",
  Othala:"Ein NPC h√§lt sicher sein Wort."
 },
 Wunjo:{
  Berkano:"Temp-TP nur gegen psychischen Schaden.",
  Tiwaz:"+1 auf Rettungsw√ºrfe.",
  Algiz:"Resistance gegen Fear oder Charm.",
  Dagaz:"Ein mentaler Save gilt als bestanden.",
  Ingwaz:"Speichere +1d10 f√ºr einen Save.",
  Laguz:"Nach Save-Fehlschlag neu w√ºrfeln.",
  Mannaz:"Advantage auf WIS- oder CHA-Saves.",
  Othala:"Du kannst einmal nicht frightened werden."
 }
};

/* ===== FLUSS ===== */
const FLUSS={
 Sowilo:{dur:"Bis zum n√§chsten Long Rest",price:"Kein zus√§tzlicher Preis."},
 Jera:{dur:"24 Stunden (verz√∂gert)",price:"Kann nicht vorzeitig beendet werden."},
 Isa:{dur:"1 Encounter",price:"Bewegung halbiert oder Bonusaktion blockiert."},
 Hagalaz:{dur:"1 Encounter",price:"1d6 Schaden beim Wirken."},
 Perthro:{dur:"Bis Trigger",price:"Fehlwirkung, falls nicht ausgel√∂st."},
 Nauthiz:{dur:"Bis zum n√§chsten Long Rest",price:"1 Stufe Ersch√∂pfung."},
 Eihwaz:{dur:"Bis Schwelle erreicht",price:"Danach Nachteil auf n√§chsten Wurf."},
 Algiz:{dur:"Bis zum n√§chsten Long Rest",price:"Abgeschw√§cht, aber vor Gegenmagie gesch√ºtzt."}
};

let pick={};

/* ===== INFINITE WHEEL ===== */
function buildWheel(id, keys, storeKey){
  const el=document.getElementById(id);
  const repeat=3, runes=[];
  el.appendChild(Object.assign(document.createElement("div"),{className:"spacer"}));
  for(let i=0;i<repeat;i++){
    keys.forEach(name=>{
      const d=document.createElement("div");
      d.className="rune"; d.dataset.value=name;
      d.innerHTML=`<div class="symbol">${RUNES[name]}</div><div class="name">${name}</div>`;
      el.appendChild(d); runes.push(d);
    });
  }
  el.appendChild(Object.assign(document.createElement("div"),{className:"spacer"}));
  requestAnimationFrame(()=>{ const block=runes[0].offsetHeight*keys.length; el.scrollTop=block; });
  el.addEventListener("scroll",()=>{
    const block=runes[0].offsetHeight*keys.length;
    if(el.scrollTop<block*0.5) el.scrollTop+=block;
    if(el.scrollTop>block*1.5) el.scrollTop-=block;
    const rect=el.getBoundingClientRect();
    let best=null, bestDist=1e9;
    runes.forEach(n=>{
      const r=n.getBoundingClientRect();
      const d=Math.abs((r.top+r.height/2)-(rect.top+rect.height/2));
      if(d<bestDist){best=n;bestDist=d;}
    });
    runes.forEach(n=>n.classList.remove("active"));
    if(best){ best.classList.add("active"); pick[storeKey]=best.dataset.value; }
  });
}

buildWheel("anker",Object.keys(OMEN),"anker");
buildWheel("eid",Object.keys(EFFECTS.Fehu),"eid");
buildWheel("fluss",Object.keys(FLUSS),"fluss");

/* ===== RITUAL ===== */
document.getElementById("cast").onclick=()=>{
  if(!pick.anker||!pick.eid||!pick.fluss) return;
  const r=document.getElementById("result");
  r.innerHTML=`
<b>üïØÔ∏è OMEN</b><br><i>${OMEN[pick.anker]}</i>
<hr>
<b>‚öîÔ∏è EFFEKT</b><br>${EFFECTS[pick.anker][pick.eid]}<br>
<b>Dauer:</b> ${FLUSS[pick.fluss].dur}
<hr>
<b>‚ö†Ô∏è PREIS</b><br>${FLUSS[pick.fluss].price}
<hr>
<span class="small">1√ó pro Long Rest ¬∑ Effekte stapeln nicht</span>`;
  r.classList.add("show");
};
</script>
</body>
</html>